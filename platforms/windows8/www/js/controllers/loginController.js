loginController=function($scope,$http,$ionicSideMenuDelegate){$ionicSideMenuDelegate.canDragContent(!1),$scope.errorMessage="",$scope.email=localStorage.user_email||"",$scope.password="",localStorage.clear(),localStorage.user_email=$scope.email,$scope.doLogin=function(){if($scope.doing)return 0;$scope.doing=!0;var email=this.email,password=this.password;$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http.post(API_URL+"/api/v1/tokens.json","email="+email+"&password="+password).success(function(response){localStorage.user_token=response.token,localStorage.user_email=email,window.location="#/app/roteiros"}).error(function(data,status){$scope.doing=!1,$scope.errorMessage=401==status||400==status?"Email ou senha inválido.":"Erro ao acessar o servidor."})}};